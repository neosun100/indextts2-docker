================================================================================
IndexTTS2 缓存策略性能对比测试结果（去除极值法）
================================================================================
测试时间: 2025-12-07 19:05
测试配置: 每组10轮测试，去掉最快和最慢，统计中间8次
说话人数: 5个

================================================================================
测试结果
================================================================================

┌─────────────────┬──────────┬──────────┬──────────┬──────────┐
│ 缓存策略        │ 平均时间 │ 首次调用 │ 后续调用 │ 提升幅度 │
├─────────────────┼──────────┼──────────┼──────────┼──────────┤
│ 无缓存          │  5.397s │    -     │    -     │ 基准线   │
│ 显存缓存(同人)  │  6.085s │  5.987s │  6.087s │ -12.7%  │
└─────────────────┴──────────┴──────────┴──────────┴──────────┘

================================================================================
详细统计
================================================================================

无缓存策略:
  - 测试次数: 50次 (5个说话人 × 10轮)
  - 全部平均: 5.407s
  - 去极值平均: 5.397s
  - 最快: 4.283s (已去除)
  - 最慢: 7.012s (已去除)

显存缓存策略 (同一说话人):
  - 测试次数: 50次连续调用
  - 首次调用: 5.987s
  - 后续平均: 6.097s
  - 去极值平均: 6.085s
  - 最快: 5.335s
  - 最慢: 7.335s

================================================================================
重要发现
================================================================================

⚠️ 显存缓存反而比无缓存慢了12.7%！

可能原因分析:
1. 每次切换说话人时，IndexTTS2需要清空旧缓存并重新提取
2. 缓存机制本身有开销（检查、清理、重新加载）
3. 同一说话人连续调用时，可能存在其他性能瓶颈
4. GPU可能在处理缓存数据时有额外开销

结论:
- IndexTTS2的原生缓存机制在频繁切换说话人时没有性能优势
- 反而因为缓存管理开销导致性能下降
- 建议: 如果需要处理多个不同说话人，直接使用无缓存模式可能更快
